{
    "_metadata": {
        "1": {
            "key": "last_message_id",
            "value": 1
        }
    },
    "_default": {
        "1": {
            "message_id": 1,
            "type": "message",
            "user": {
                "content": "\u5e2e\u6211\u751f\u6210\u4e00\u4e2a\u6587\u751f\u56fe\u5de5\u4f5c\u6d41",
                "images": [],
                "prompt_name": "comfyui\u5de5\u4f5c\u6d41\u5904\u7406(\u8bf7\u5728\u8f93\u5165\u6846\u5177\u4f53\u8f93\u5165\u4f60\u7684\u9700\u6c42)",
                "prompt_id": "comfyui_workflow"
            },
            "assistant": {
                "content": "<think>\n\u597d\u7684\uff0c\u7528\u6237\u8ba9\u6211\u5e2e\u4ed6\u751f\u6210\u4e00\u4e2a\u6587\u751f\u56fe\u7684\u5de5\u4f5c\u6d41\uff0c\u4f7f\u7528ComfyUI\u3002\u9996\u5148\uff0c\u6211\u9700\u8981\u56de\u5fc6\u4e00\u4e0bComfyUI\u7684\u57fa\u672c\u7ed3\u6784\u548c\u5e38\u7528\u8282\u70b9\u3002\u6587\u751f\u56fe\u7684\u57fa\u672c\u6d41\u7a0b\u901a\u5e38\u5305\u62ec\u52a0\u8f7d\u6a21\u578b\u3001\u7f16\u7801\u63d0\u793a\u8bcd\u3001\u751f\u6210\u6f5c\u7a7a\u95f4\u56fe\u50cf\u3001\u91c7\u6837\u3001\u89e3\u7801\u548c\u4fdd\u5b58\u8fd9\u51e0\u4e2a\u6b65\u9aa4\u3002\n\n\u9996\u5148\uff0c\u7528\u6237\u9700\u8981\u52a0\u8f7d\u68c0\u67e5\u70b9\u6a21\u578b\uff0c\u6240\u4ee5\u8981\u7528\u5230CheckpointLoaderSimple\u8282\u70b9\u3002\u8fd9\u4e2a\u8282\u70b9\u8d1f\u8d23\u52a0\u8f7d\u6a21\u578b\u3001CLIP\u548cVAE\u3002\u63a5\u4e0b\u6765\uff0c\u9700\u8981\u4e24\u4e2aCLIPTextEncode\u8282\u70b9\uff0c\u5206\u522b\u5904\u7406\u6b63\u5411\u548c\u8d1f\u5411\u63d0\u793a\u8bcd\u3002\u7136\u540e\u662fEmptyLatentImage\u8282\u70b9\uff0c\u7528\u6765\u521b\u5efa\u521d\u59cb\u7684\u6f5c\u7a7a\u95f4\u56fe\u50cf\u3002KSampler\u8282\u70b9\u8d1f\u8d23\u8fdb\u884c\u91c7\u6837\uff0c\u5c06\u63d0\u793a\u8bcd\u548c\u6f5c\u7a7a\u95f4\u56fe\u50cf\u7ed3\u5408\u8d77\u6765\u751f\u6210\u5904\u7406\u540e\u7684\u6f5c\u7a7a\u95f4\u3002\u4e4b\u540e\u7528VAEDecode\u8282\u70b9\u5c06\u6f5c\u7a7a\u95f4\u89e3\u7801\u4e3a\u56fe\u50cf\uff0c\u6700\u540e\u7528SaveImage\u4fdd\u5b58\u7ed3\u679c\u3002\n\n\u6211\u9700\u8981\u786e\u4fdd\u6bcf\u4e2a\u8282\u70b9\u7684\u8fde\u63a5\u6b63\u786e\u3002\u6bd4\u5982\uff0cCheckpointLoaderSimple\u7684MODEL\u8f93\u51fa\u8fde\u63a5\u5230KSampler\u7684model\u8f93\u5165\uff0cCLIP\u8f93\u51fa\u8fde\u63a5\u5230\u4e24\u4e2aCLIPTextEncode\u8282\u70b9\u7684clip\u8f93\u5165\uff0cVAE\u8fde\u63a5\u5230VAEDecode\u7684vae\u8f93\u5165\u3002\u6b63\u5411\u548c\u8d1f\u5411\u7684CLIPTextEncode\u8f93\u51fa\u5206\u522b\u8fde\u63a5\u5230KSampler\u7684positive\u548cnegative\u3002EmptyLatentImage\u751f\u6210\u7684\u6f5c\u7a7a\u95f4\u8fde\u63a5\u5230KSampler\u7684latent_image\uff0c\u518d\u7ecf\u8fc7\u91c7\u6837\u540e\u8fde\u63a5\u5230VAEDecode\u7684samples\uff0c\u6700\u540e\u4fdd\u5b58\u3002\n\n\u8fd8\u8981\u68c0\u67e5\u8282\u70b9\u53c2\u6570\u662f\u5426\u6b63\u786e\uff0c\u6bd4\u5982CheckpointLoaderSimple\u4f7f\u7528\u7684\u6a21\u578b\u662f\u5426\u5b58\u5728\uff0c\u8fd9\u91cc\u9009v1-5-pruned-emaonly-fp16.safetensors\uff0c\u662f\u5e38\u89c1\u7684Stable Diffusion 1.5\u6a21\u578b\u3002KSampler\u7684\u53c2\u6570\u5982\u91c7\u6837\u6b65\u6570\u3001\u65b9\u6cd5\u7b49\u662f\u5426\u5408\u7406\uff0c\u8fd9\u91cc\u8bbe\u7f6e20\u6b65\uff0ceuler\u65b9\u6cd5\uff0ccfg\u4e3a8\uff0c\u8fd9\u4e9b\u90fd\u662f\u5e38\u7528\u503c\u3002\n\n\u53e6\u5916\uff0c\u9700\u8981\u786e\u8ba4\u7528\u6237\u662f\u5426\u9700\u8981\u81ea\u5b9a\u4e49\u8282\u70b9\u6216\u6a21\u578b\uff0c\u4f46\u7528\u6237\u6ca1\u6709\u63d0\u5230\uff0c\u6240\u4ee5\u4fdd\u6301\u57fa\u7840\u8282\u70b9\u3002\u53ef\u80fd\u7528\u6237\u662f\u65b0\u624b\uff0c\u6240\u4ee5\u5de5\u4f5c\u6d41\u8981\u5c3d\u91cf\u7b80\u5355\u660e\u4e86\uff0c\u6ca1\u6709\u590d\u6742\u8c03\u6574\u3002\u6700\u540e\uff0c\u786e\u4fdd\u63d0\u4f9b\u7684\u4e0b\u8f7d\u94fe\u63a5\u548c\u6a21\u578b\u8def\u5f84\u6b63\u786e\uff0c\u6bd4\u5982\u6a21\u578b\u653e\u5728ComfyUI/models/checkpoints\u76ee\u5f55\u4e0b\u3002\n\n\u603b\u7ed3\u4e0b\u6765\uff0c\u5de5\u4f5c\u6d41\u7ed3\u6784\u6e05\u6670\uff0c\u8282\u70b9\u8fde\u63a5\u6b63\u786e\uff0c\u53c2\u6570\u5408\u7406\uff0c\u6a21\u578b\u548c\u8282\u70b9\u90fd\u662f\u771f\u5b9e\u5b58\u5728\u7684\uff0c\u5e94\u8be5\u80fd\u6ee1\u8db3\u7528\u6237\u7684\u9700\u6c42\u3002\n</think>\n\n<type>\"workflow\"</type>\n<title>\"\u57fa\u7840\u6587\u751f\u56fe\u5de5\u4f5c\u6d41\"</title>\n<workflow>{\"revision\":1.0,\"version\":0.4,\"last_node_id\":9,\"last_link_id\":9,\"nodes\":[{\"id\":4,\"type\":\"CheckpointLoaderSimple\",\"pos\":[26,474],\"size\":[315,98],\"flags\":{},\"order\":1,\"mode\":0,\"inputs\":[],\"outputs\":[{\"label\":\"MODEL\",\"name\":\"MODEL\",\"type\":\"MODEL\",\"slot_index\":0,\"links\":[1]},{\"label\":\"CLIP\",\"name\":\"CLIP\",\"type\":\"CLIP\",\"slot_index\":1,\"links\":[3,5]},{\"label\":\"VAE\",\"name\":\"VAE\",\"type\":\"VAE\",\"slot_index\":2,\"links\":[8]}],\"properties\":{\"cnr_id\":\"comfy-core\",\"ver\":\"0.3.27\",\"Node name for S&R\":\"CheckpointLoaderSimple\"},\"widgets_values\":[\"v1-5-pruned-emaonly-fp16.safetensors\"]},{\"id\":5,\"type\":\"EmptyLatentImage\",\"pos\":[473,609],\"size\":[315,106],\"flags\":{},\"order\":0,\"mode\":0,\"inputs\":[],\"outputs\":[{\"label\":\"LATENT\",\"name\":\"LATENT\",\"type\":\"LATENT\",\"slot_index\":0,\"links\":[2]}],\"properties\":{\"cnr_id\":\"comfy-core\",\"ver\":\"0.3.27\",\"Node name for S&R\":\"EmptyLatentImage\"},\"widgets_values\":[512,512,1]},{\"id\":6,\"type\":\"CLIPTextEncode\",\"pos\":[415,186],\"size\":[422,164],\"flags\":{},\"order\":2,\"mode\":0,\"inputs\":[{\"label\":\"clip\",\"name\":\"clip\",\"type\":\"CLIP\",\"link\":3}],\"outputs\":[{\"label\":\"CONDITIONING\",\"name\":\"CONDITIONING\",\"type\":\"CONDITIONING\",\"slot_index\":0,\"links\":[4]}],\"properties\":{\"cnr_id\":\"comfy-core\",\"ver\":\"0.3.27\",\"Node name for S&R\":\"CLIPTextEncode\"},\"widgets_values\":[\"best quality, masterpiece, 1girl\"]},{\"id\":7,\"type\":\"CLIPTextEncode\",\"pos\":[413,389],\"size\":[425,180],\"flags\":{},\"order\":3,\"mode\":0,\"inputs\":[{\"label\":\"clip\",\"name\":\"clip\",\"type\":\"CLIP\",\"link\":5}],\"outputs\":[{\"label\":\"CONDITIONING\",\"name\":\"CONDITIONING\",\"type\":\"CONDITIONING\",\"slot_index\":0,\"links\":[6]}],\"properties\":{\"cnr_id\":\"comfy-core\",\"ver\":\"0.3.27\",\"Node name for S&R\":\"CLIPTextEncode\"},\"widgets_values\":[\"text, watermark, low quality\"]},{\"id\":3,\"type\":\"KSampler\",\"pos\":[863,186],\"size\":[315,262],\"flags\":{},\"order\":4,\"mode\":0,\"inputs\":[{\"label\":\"model\",\"name\":\"model\",\"type\":\"MODEL\",\"link\":1},{\"label\":\"positive\",\"name\":\"positive\",\"type\":\"CONDITIONING\",\"link\":4},{\"label\":\"negative\",\"name\":\"negative\",\"type\":\"CONDITIONING\",\"link\":6},{\"label\":\"latent_image\",\"name\":\"latent_image\",\"type\":\"LATENT\",\"link\":2}],\"outputs\":[{\"label\":\"LATENT\",\"name\":\"LATENT\",\"type\":\"LATENT\",\"slot_index\":0,\"links\":[7]}],\"properties\":{\"cnr_id\":\"comfy-core\",\"ver\":\"0.3.27\",\"Node name for S&R\":\"KSampler\"},\"widgets_values\":[156680208700286,\"randomize\",20,8,\"euler\",\"normal\",1]},{\"id\":8,\"type\":\"VAEDecode\",\"pos\":[1209,188],\"size\":[210,46],\"flags\":{},\"order\":5,\"mode\":0,\"inputs\":[{\"label\":\"samples\",\"name\":\"samples\",\"type\":\"LATENT\",\"link\":7},{\"label\":\"vae\",\"name\":\"vae\",\"type\":\"VAE\",\"link\":8}],\"outputs\":[{\"label\":\"IMAGE\",\"name\":\"IMAGE\",\"type\":\"IMAGE\",\"slot_index\":0,\"links\":[9]}],\"properties\":{\"cnr_id\":\"comfy-core\",\"ver\":\"0.3.27\",\"Node name for S&R\":\"VAEDecode\"},\"widgets_values\":[]},{\"id\":9,\"type\":\"SaveImage\",\"pos\":[1451,189],\"size\":[210,58],\"flags\":{},\"order\":6,\"mode\":0,\"inputs\":[{\"label\":\"images\",\"name\":\"images\",\"type\":\"IMAGE\",\"link\":9}],\"outputs\":[],\"properties\":{\"cnr_id\":\"comfy-core\",\"ver\":\"0.3.27\",\"Node name for S&R\":\"SaveImage\"},\"widgets_values\":[\"ComfyUI\"]}],\"links\":[[1,4,0,3,0,\"MODEL\"],[2,5,0,3,3,\"LATENT\"],[3,4,1,6,0,\"CLIP\"],[4,6,0,3,1,\"CONDITIONING\"],[5,4,1,7,0,\"CLIP\"],[6,7,0,3,2,\"CONDITIONING\"],[7,3,0,8,0,\"LATENT\"],[8,4,2,8,1,\"VAE\"],[9,8,0,9,0,\"IMAGE\"]],\"groups\":[],\"config\":{}}</workflow>\n<explanation>\u8fd9\u662f\u4e00\u4e2a\u57fa\u7840\u7684\u6587\u751f\u56fe\u5de5\u4f5c\u6d41\uff0c\u5305\u542b\u4ee5\u4e0b\u6838\u5fc3\u7ec4\u4ef6\uff1a\n1. CheckpointLoaderSimple\uff1a\u52a0\u8f7dStable Diffusion\u6a21\u578b\n2. CLIPTextEncode x2\uff1a\u5206\u522b\u5904\u7406\u6b63\u5411\u548c\u8d1f\u5411\u63d0\u793a\u8bcd\n3. EmptyLatentImage\uff1a\u521b\u5efa\u521d\u59cb\u6f5c\u7a7a\u95f4\n4. KSampler\uff1a\u8fdb\u884c\u6269\u6563\u91c7\u6837\n5. VAEDecode\uff1a\u5c06\u6f5c\u7a7a\u95f4\u89e3\u7801\u4e3a\u56fe\u50cf\n6. SaveImage\uff1a\u4fdd\u5b58\u751f\u6210\u7ed3\u679c\n\n\u4f7f\u7528\u65f6\u9700\u8981\uff1a\n1. \u5728CheckpointLoaderSimple\u9009\u62e9\u6a21\u578b\n2. \u5728CLIPTextEncode\u8282\u70b9\u586b\u5199\u63d0\u793a\u8bcd\n3. \u8c03\u6574KSampler\u53c2\u6570\uff08\u6b65\u6570\u3001CFG\u503c\u7b49\uff09\n4. \u70b9\u51fb\"Queue Prompt\"\u5f00\u59cb\u751f\u6210</explanation>\n<nodes>'{\"CheckpointLoaderSimple\": {\"downloadurl\": \"\u5185\u7f6e\u8282\u70b9\u65e0\u9700\u4e0b\u8f7d\", \"version\": \"0.3.27\"}, \"CLIPTextEncode\": {\"downloadurl\": \"\u5185\u7f6e\u8282\u70b9\u65e0\u9700\u4e0b\u8f7d\", \"version\": \"0.3.27\"}}'</nodes>\n<model>'{\"v1-5-pruned-emaonly-fp16\": {\"downloadurl\": \"https://huggingface.co/runwayml/stable-diffusion-v1-5/resolve/main/v1-5-pruned-emaonly-fp16.safetensors\", \"path\": \"models/checkpoints/\"}}'</model>",
                "images": []
            }
        }
    }
}